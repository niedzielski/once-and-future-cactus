{"version":3,"sources":["../jspm_packages/npm/systemjs-plugin-babel@0.0.17/babel-helpers/classCallCheck.js","../jspm_packages/npm/systemjs-plugin-babel@0.0.17/babel-helpers/createClass.js","../jspm_packages/npm/systemjs-plugin-babel@0.0.17/babel-helpers/possibleConstructorReturn.js","../jspm_packages/npm/systemjs-plugin-babel@0.0.17/babel-helpers/inherits.js","../jspm_packages/npm/systemjs-plugin-babel@0.0.17/babel-helpers/get.js","../src/Kbd.js","../src/Scene.js","../src/GameState.js","../src/Game.js","../src/index.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","defineProperty","key","protoProps","staticProps","prototype","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","Object","create","setPrototypeOf","__proto__","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","value","getter","Key","keys","Array","_len","_key","arguments","_keys","game","_step","this","Symbol","iterator","_iteratorNormalCompletion","_iterator","next","done","input","keyboard","isDown","Kbd","_up","Phaser","Keyboard","UP","W","_right","RIGHT","D","_down","DOWN","S","_left","LEFT","A","pressed","TILEMAP_KEY","TILEMAP_FILENAME","TILESET16_KEY","TILESET16_FILENAME","TILESET16_SIZE","INCREMENT_X","INCREMENT_Y","GRAVITY_Y","Scene","_map","_tileLayers","_kbd","widthInPixels","heightInPixels","load","tilemap","Tilemap","TILED_JSON","spritesheet","physics","startSystem","Physics","P2JS","p2","gravity","y","add","addTilesetImage","layers","obj","layer","createLayer","name","push","resizeWorld","_step2","objects","_iteratorNormalCompletion2","_iterator2","_step3","_iteratorNormalCompletion3","_iterator3","createFromObjects","gid","_loadCollisionBodies","camera","follow","_player","Camera","FOLLOW_PLATFORMER","velocity","body","x","up","right","_translatePlayerX","down","left","_game","forEach","resize","_this","width","height","_step4","world","children","_iteratorNormalCompletion4","_iterator4","child","playerGid","collisions","_findCollisionData","enable","clearShapes","debug","_step5","_iteratorNormalCompletion5","_iterator5","collision","polyline","_polylineToArray","loadPolygon","shape","origin","arr","p","lvl","cache","getTilemapData","_step6","data","tilesets","_iteratorNormalCompletion6","_iterator6","tileset","_step7","tiles","_iteratorNormalCompletion7","_iterator7","tileGid","tile","objectgroup","duration","sign","tween","scale","to","Easing","Bounce","Out","GameState","scene","log","_scene","time","advancedTiming","renderer","renderSession","roundPixels","roundPx","Canvas","setImageRenderingCrisp","canvas","bitmapFont","addEventListener","_this2","preload","size","_fpsText","bitmapText","fixedToCamera","update","render","fps","text","window","innerHeight","nativeWidth","Math","floor","innerWidth","nativeHeight","setGameSize","bounds","Rectangle","State","Game","transparent","antialias","AUTO","_gameState","state","init"],"mappings":"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","file":"index.js"}